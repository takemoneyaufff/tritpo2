# Поток событий
---

# Содержание
1 [Актёры](#actors)  
2 [Варианты использования](#use_case)  
2.1 [Открыть приложение](#open_the_app)  
2.2 [Зарегистрироваться](#register)  
2.3 [Авторизоваться в приложении](#log_in_to_account)  
2.4 [Заполнить профиль](#fill_out_a_profile)  
2.5 [Найти поездку](#find_a_trip)  
2.6 [Добавить новую поездку](#add_new_trip)  
2.7 [Просмотреть историю](#view_history)  
2.8 [Выйти из аккаунта](#log_out_from_account)  


<a name="actors"/>

# 1 Актёры

| Актёр | Описание |
|:--|:--|
| Пользователь | Человек, использующий систему |
| Анонимный пользователь | Пользователь, который использует приложение без учётной записи |
| Зарегистрированный пользователь | Пользователь, который создал учётную запись на сайте |
| База поездок | База данных, в которой хранятся все поездки пользователей|

<a name="use_case"/>

# 2 Варианты использования

<a name="open_the_app"/>

## 2.1 Открыть приложение

**Описание.** Вариант использования "Открыть приложение" позволяет пользователю войти в приложение.
**Основной поток.**
1. Вариант использования начинается, когда пользователь открывает главное окно приложения;
2. Приложение отображает возможные способы входа: [авторизоваться](#log_in_to_account), [зарегистрироваться](#register);
3. Пользователь выбирает один из способов входа;
4. Выполняется вариант использования, связанный с выбранным способом входа в приложение;
5. Вариант использования завершается.

<a name="register"/>

## 2.2 Зарегистрироваться

**Описание.** Вариант использования "Зарегистрироваться" позволяет пользователю создать свою учётную запись в приложении.  
**Предусловия.** Пользователь выбрал способ "Зарегистрироваться" для входа в приложение.  
**Основной поток.**
1. Приложение отображает окно регистрации, в котором запрашивает у пользователя ввод информации для регистрации;
2. Пользователь вводит свои данные;
3. Приложение проверят введённое имя на совпадение и именами уже зарегистрированных пользователей. Если совпадение выявлено, выполняется альтернативный поток А1;
4. Приложение создает файл профиля пользователя;
6. Приложение переводит пользователя в его аккаунт к [заполнить профиль](#fill_out_a_profile);
7. Вариант использования завершается.

**Альтернативный поток А1.**
1. Приложение сообщает пользователю, что пользователь с таким именем уже существует;
2. Приложение запрашивает у пользователя ввод псевдонима;
3. Возврат к п.2 основного потока.

**Дополнительная информация.** Пользователь имеет возможность отменить действие до подтверждения ввода имени. В случае отмены выполняется альтернативный поток А2.

**Альтернативный поток А2.**
1. Приложение возвращает пользователя на окно [открыть приложение](#open_the_app);
2. Вариант использования завершается досрочно.

<a name="log_in_to_account"/>

## 2.3 Авторизоваться в приложении

**Описание.** Вариант использования "Авторизоваться в приложении" позволяет пользователю войти в учётную запись.
**Предусловия.** Пользователь выбрал способ " Авторизоваться в приложении" для входа в приложение.  
**Основной поток.**
1. Сайт отображает окно входа в учётную запись;
2. Пользователь вводит своё имя(псевдоним);
3. Пользователь вводит свой пароль;
4. Приложение проверяет наличие пользователя в системе. Если такого пользователя нет, выполняется альтернативный поток А3;
5. Приложение проверяет совпадение введеного пароля с соответствующим в системе. Если пароли не совпали, выполняется альтернативный поток А4;
6. Сайт переводит пользователя в его аккаунт к главному окну приложения;
7. Вариант использования завершается.

**Альтернативный поток А3.**
1. Приложение сообщает об отсутствии пользователя в системе;
2. Возврат к п.2 основного потока.

**Альтернативный поток А4.**
1. Приложение сообщает о неправильном вводе пароля;
2. Возврат к п.3 основного потока.

**Дополнительная информация.** Пользователь имеет возможность отменить действие до подтверждения ввода имени. В случае отмены выполняется альтернативный поток А5.

**Альтернативный поток А5.**
1. Приложение возвращает пользователя на окно [открыть приложение](#open_the_app);
2. Вариант использования завершается досрочно.

<a name="fill_out_a_profile"/>

## 2.4 Заполнить профиль

**Описание.** Вариант использования "Заполнить профиль" позволяет пользователю указать полную информацию о себе.
**Предусловия.** Пользователь зарегистрировался в приложении.
**Основной поток.**
1. Приложение отображает окно для заполнения профиля;
2. Пользователь вводит информацию о себе;
3. Вариант использования завершается.


<a name="find_a_trip"/>

## 2.5 Найти поездку

**Описание.** Вариант использования "Найти поездку" позволяет зарегистрированному пользователю найти поездку.  
**Предусловия.** Зарегистрированный пользователь выбрал "Найти поездку" в главном окне.
**Основной поток.**
1. Пользователь вводит в окне поиска необходимую информацию;
2. Приложение ищет и соответствующие поездки. Если таких поездок нет, выполняется альтернативный поток А6;
3. Вариант использования завершается.

**Альтернативный поток А6.**
1. Приложение сообщает пользователю об отсутствии поездок с такими критериями;
2. Возврат к п.1 основного потока.

<a name="add_new_trip"/>

## 2.6 Добавить новую поездку


**Описание.** Вариант использования "Добавить новую поездку" позволяет зарегистрированному пользователю добавить новую поездку.
**Предусловия.** Зарегистрированный пользователь выбрал "Добавить новую поездку" в главном окне приложения.  
**Основной поток.**
1. Приложение открывает пользователю редактор поездок;
2. Пользователь вводит всю необходимую информацию о поездке;
3. Пользователь нажимает "Добавить";
4. Приложение проверяет наличие всей необходимой информации. Если пользователь заполнил не все обязательные поля, выполнятся альтернативный поток А7;
5. Вариант использования завершается.

**Альтернативный поток А7.**
1. Приложении сообщает пользователю о необходимости заполнить все обязательные поля;
2. Возврат к п.1 основного потока.

<a name="view_history"/>

## 2.7 Просмотреть историю

**Описание.** Вариант использования "Просмотр истории" позволяет зарегистрированному пользователю просмотреть историю своих поездок.
**Предусловия.** Зарегистрированный пользователь выбрал действие "Просмотр истории".
**Основной поток.**
1. Приложение открывает отдельное окне с подробной информацией о всех когда-либо добавленных поездках пользователя;
2. Пользователь выбирает пункт выйти из просмотра истории;
3. Приложение возвращает пользователя на главное окно приложения.
4. Вариант использования завершается.

<a name="log_out_from_account"/>

## 2.8 Выйти из аккаунта

**Описание.** Вариант использования "Выйти из аккаунта" позволяет зарегистрированному пользователю выйти из учётной записи.  
**Предусловия.** Зарегистрированный пользователь выбрал действие "Выйти из аккаунта".  
**Основной поток.**
1. Приложение возвращает пользователя на окно [открытие приложения](#open_the_app);
2. Вариант использования завершается.
